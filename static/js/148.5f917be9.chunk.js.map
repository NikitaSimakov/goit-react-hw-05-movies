{"version":3,"file":"static/js/148.5f917be9.chunk.js","mappings":"qMAIaA,EAAQ,mCAAG,WAAOC,GAAP,kGAEGC,MAAM,gCAAD,OAAiCD,EAAjC,mBANhB,qCAIQ,cAEdE,EAFc,gBAGCA,EAASC,OAHV,cAGdC,EAHc,yBAIbA,GAJa,kCAMhBC,QAAQC,IAAR,MANgB,0DAAH,qD,sFCoDrB,UAjDe,WAEb,OAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAA4BJ,EAAAA,EAAAA,UAAS,IAArC,eAAOH,EAAP,KAAeQ,EAAf,KACA,GAAwCC,EAAAA,EAAAA,mBAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,MAgBXC,EAAa,WACjBT,EAAS,IACI,KAAVD,GAAcO,EAAgB,CAAC,EACnC,EAUD,OARAI,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAaN,EAAaO,IAAI,SAC9BC,EAAW,6BAAyBZ,EAAzB,KACXa,EAAa,6BAAyBH,EAAzB,KACN,KAAVV,IAAcX,EAAAA,EAAAA,GAASuB,GAAaE,MAAK,SAAAC,GAAI,OAAIb,EAAUa,EAAKC,QAAnB,IAC7CN,IAAYrB,EAAAA,EAAAA,GAASwB,GAAeC,MAAK,SAAAC,GAAI,OAAIb,EAAUa,EAAKC,QAAnB,GAEjD,GAAC,CAAChB,EAAOI,KACF,iCACR,kBAAMa,SApBe,SAACC,GACpBA,EAAMC,iBACNlB,EAASH,GACTO,EAAgB,CAAEL,MAAOF,IACzBU,GACD,EAeD,WACE,kBAAOY,KAAK,OAAOC,aAAa,MAAMC,YAAY,gBAAgBxB,MAAOA,EAAOyB,SAzB9D,SAACL,GACnB,IAAOpB,EAASoB,EAAMM,cAAf1B,MACPC,EAASD,EACV,KAuBC,mBAAQsB,KAAK,SAAb,SAAuB,eAEzB,0BACE,wBACG1B,EAAO+B,KAAI,gBAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,GAAV,OAAmB,yBAAa,SAAC,EAAAC,KAAD,CAAMC,GAAE,kBAAaF,GAAMG,MAAO,CAACC,KAAMzB,GAAzC,SAAqDoB,KAAzDC,EAA5B,UAKjB,C","sources":["components/GetMovie/getMovie.js","pages/movies.js"],"sourcesContent":["const API_KEY = 'fac36845d9f7873a94c26906e62793ef'\n\n\n// https://api.themoviedb.org/3/search/movie?query=Jack+Reacher&api_key=fac36845d9f7873a94c26906e62793ef\nexport const getMovie = async (request) => {\n    try {\n    const response = await fetch(`https://api.themoviedb.org/3/${request}api_key=${API_KEY}`)\n    const movies = await response.json()\n    return movies;\n} catch (error) {\n        console.log(error)\n    }\n}\n\n","import { getMovie } from \"components/GetMovie/getMovie\";\nimport { useEffect, useState } from \"react\";\nimport { Link, useLocation, useSearchParams } from \"react-router-dom\";\n\n// import { useParams } from \"react-router-dom\";\n\n// https://api.themoviedb.org/3/search/movie?query=Jack+Reacher&api_key=fac36845d9f7873a94c26906e62793ef\nconst Movies = () => {\n\n  const [value, setValue] = useState('');\n  const [query, setQuery] = useState('');\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n  // console.log(location.state)\n  // console.log(searchParams);\n\n  \n\n  const handleInput = (event) => {\n    const {value} = event.currentTarget;\n    setValue(value)\n  }\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    setQuery(value);\n    setSearchParams({ query: value })\n    resetInput();\n  }\n  const resetInput = () => {\n    setValue('');\n    if(value === '') setSearchParams({});\n  }\n\n  useEffect(()=>{\n    const queryParam = searchParams.get('query');\n    const REQUEST_API = `search/movie?query=${query}&`\n    const queryParamApi = `search/movie?query=${queryParam}&`\n    if(query !== '') getMovie(REQUEST_API).then(resp => setMovies(resp.results))\n    if(queryParam) getMovie(queryParamApi).then(resp => setMovies(resp.results))\n    // console.log(queryParam)\n  },[query, searchParams])\n  return (<>\n  <form onSubmit={handleSubmit}>\n    <input type=\"text\" autoComplete=\"off\" placeholder=\"Search movies\" value={value} onChange={handleInput}></input>\n    <button type=\"submit\" >Search</button>\n  </form>\n  <div>\n    <ul>\n      {movies.map(({ title, id }) => <li key={id}><Link to={`/movies/${id}`} state={{from: location}}>{title}</Link></li>)}\n    </ul>\n  </div>\n  </>)\n  \n};\n\nexport default Movies;\n"],"names":["getMovie","request","fetch","response","json","movies","console","log","useState","value","setValue","query","setQuery","setMovies","useSearchParams","searchParams","setSearchParams","location","useLocation","resetInput","useEffect","queryParam","get","REQUEST_API","queryParamApi","then","resp","results","onSubmit","event","preventDefault","type","autoComplete","placeholder","onChange","currentTarget","map","title","id","Link","to","state","from"],"sourceRoot":""}