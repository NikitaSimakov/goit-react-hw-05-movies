{"version":3,"file":"static/js/933.b26ce513.chunk.js","mappings":"qMAIaA,EAAQ,mCAAG,WAAOC,GAAP,kGAEGC,MAAM,gCAAD,OAAiCD,EAAjC,mBANhB,qCAIQ,cAEdE,EAFc,gBAGCA,EAASC,OAHV,cAGdC,EAHc,yBAIbA,GAJa,kCAMhBC,QAAQC,IAAR,MANgB,0DAAH,qD,mHCHrB,EAA8B,4BAA9B,EAAyE,6BAAzE,EAAsH,8BAAtH,EAAsK,gC,SCwDtK,EAjDe,WAEb,OAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAA4BJ,EAAAA,EAAAA,UAAS,IAArC,eAAOH,EAAP,KAAeQ,EAAf,KACA,GAAwCC,EAAAA,EAAAA,mBAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,MAgBXC,EAAa,WACjBT,EAAS,IACI,KAAVD,GAAcO,EAAgB,CAAC,EACnC,EAUD,OARAI,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAaN,EAAaO,IAAI,SAC9BC,EAAW,6BAAyBZ,EAAzB,KACXa,EAAa,6BAAyBH,EAAzB,KACN,KAAVV,IAAcX,EAAAA,EAAAA,GAASuB,GAAaE,MAAK,SAAAC,GAAI,OAAIb,EAAUa,EAAKC,QAAnB,IAC7CN,IAAYrB,EAAAA,EAAAA,GAASwB,GAAeC,MAAK,SAAAC,GAAI,OAAIb,EAAUa,EAAKC,QAAnB,GAEjD,GAAC,CAAChB,EAAOI,KACF,iCACR,kBAAMa,SApBe,SAACC,GACpBA,EAAMC,iBACNlB,EAASH,GACTO,EAAgB,CAAEL,MAAOF,IACzBU,GACD,EAe6BY,UAAWC,EAAzC,WACE,kBAAOD,UAAWC,EAAkBC,KAAK,OAAOC,aAAa,MAAMC,YAAY,gBAAgB1B,MAAOA,EAAO2B,SAzB3F,SAACP,GACnB,IAAOpB,EAASoB,EAAMQ,cAAf5B,MACPC,EAASD,EACV,KAuBC,mBAAQwB,KAAK,SAASF,UAAWC,EAAjC,SAAqD,eAEvD,0BACE,wBACG3B,EAAOiC,KAAI,gBAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,GAAV,OAAmB,eAAaT,UAAWC,EAAxB,UAA6C,SAAC,EAAAS,KAAD,CAAMC,GAAE,kBAAaF,GAAMG,MAAO,CAACC,KAAM3B,GAAzC,SAAqDsB,KAAzFC,EAA5B,UAKjB,C","sources":["components/GetMovie/getMovie.js","webpack://goit-react-hw-05-movies/./src/pages/movies.module.css?33b8","pages/movies.js"],"sourcesContent":["const API_KEY = 'fac36845d9f7873a94c26906e62793ef'\n\n\n// https://api.themoviedb.org/3/search/movie?query=Jack+Reacher&api_key=fac36845d9f7873a94c26906e62793ef\nexport const getMovie = async (request) => {\n    try {\n    const response = await fetch(`https://api.themoviedb.org/3/${request}api_key=${API_KEY}`)\n    const movies = await response.json()\n    return movies;\n} catch (error) {\n        console.log(error)\n    }\n}\n\n","// extracted by mini-css-extract-plugin\nexport default {\"movies_form\":\"movies_movies_form__qG6Fb\",\"movies_input\":\"movies_movies_input__V5eMD\",\"movies_button\":\"movies_movies_button__kZRWc\",\"movies_listItem\":\"movies_movies_listItem__fs3b6\"};","import { getMovie } from \"components/GetMovie/getMovie\";\nimport { useEffect, useState } from \"react\";\nimport { Link, useLocation, useSearchParams } from \"react-router-dom\";\nimport css from './movies.module.css'\n\n// import { useParams } from \"react-router-dom\";\n\n// https://api.themoviedb.org/3/search/movie?query=Jack+Reacher&api_key=fac36845d9f7873a94c26906e62793ef\nconst Movies = () => {\n\n  const [value, setValue] = useState('');\n  const [query, setQuery] = useState('');\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n  // console.log(location.state)\n  // console.log(searchParams);\n\n  \n\n  const handleInput = (event) => {\n    const {value} = event.currentTarget;\n    setValue(value)\n  }\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    setQuery(value);\n    setSearchParams({ query: value })\n    resetInput();\n  }\n  const resetInput = () => {\n    setValue('');\n    if(value === '') setSearchParams({});\n  }\n\n  useEffect(()=>{\n    const queryParam = searchParams.get('query');\n    const REQUEST_API = `search/movie?query=${query}&`\n    const queryParamApi = `search/movie?query=${queryParam}&`\n    if(query !== '') getMovie(REQUEST_API).then(resp => setMovies(resp.results))\n    if(queryParam) getMovie(queryParamApi).then(resp => setMovies(resp.results))\n    // console.log(queryParam)\n  },[query, searchParams])\n  return (<>\n  <form onSubmit={handleSubmit} className={css.movies_form}>\n    <input className={css.movies_input} type=\"text\" autoComplete=\"off\" placeholder=\"Search movies\" value={value} onChange={handleInput}></input>\n    <button type=\"submit\" className={css.movies_button} >Search</button>\n  </form>\n  <div>\n    <ul>\n      {movies.map(({ title, id }) => <li key={id} className={css.movies_listItem}><Link to={`/movies/${id}`} state={{from: location}}>{title}</Link></li>)}\n    </ul>\n  </div>\n  </>)\n  \n};\n\nexport default Movies;\n"],"names":["getMovie","request","fetch","response","json","movies","console","log","useState","value","setValue","query","setQuery","setMovies","useSearchParams","searchParams","setSearchParams","location","useLocation","resetInput","useEffect","queryParam","get","REQUEST_API","queryParamApi","then","resp","results","onSubmit","event","preventDefault","className","css","type","autoComplete","placeholder","onChange","currentTarget","map","title","id","Link","to","state","from"],"sourceRoot":""}